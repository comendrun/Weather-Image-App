{"version":3,"sources":["components/Footer.js","components/HideButton.js","components/SearchBox.js","App.js","index.js"],"names":["Footer","props","ReactDOM","createPortal","react_default","a","createElement","className","children","document","body","HideButton","_ref","onClick","type","SearchBox","placeholder","id","value","onChange","e","name","query","onKeyPress","search","searchButtonClick","require","config","App","_useState","useState","_useState2","Object","slicedToArray","setQuery","_useState3","_useState4","weather","setWeather","_useState5","_useState6","image","setImage","_useState7","_useState8","error","setError","_useState9","_useState10","isPending","setIsPending","_useState11","_useState12","hideBackground","setHideBackground","d","Date","month","getMonth","imageURLForBackend","concat","weatherURLForBackend","fetchings","fetch","then","res","json","data","cod","message","err","console","log","backgroundUrl","main","backgroundImage","backgroundStyle","objectSpread","backgroundSize","backgroundPosition","maxWidth","borderRadius","backgroundRepeat","style","SearchBox_SearchBox","target","pressedKey","key","sys","country","getDate","getFullYear","Math","round","temp","src","icon","alt","description","preValue","Footer_Footer","rel","href","createRoot","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.71b15f0d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./Footer.css\";\r\n\r\nexport default function Footer(props) {\r\n  return ReactDOM.createPortal(\r\n    <footer className=\"attribution\">{props.children}</footer>,\r\n    document.body\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function HideButton({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"hide-button\" onClick={onClick}>\r\n      Hide Backdrop\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./SearchBox.css\";\r\n\r\nexport default function SearchBox(props) {\r\n  return (\r\n    <div className=\"search-box\">\r\n      <input\r\n        placeholder=\"Enter City Name ...\"\r\n        className=\"input\"\r\n        id=\"search\"\r\n        value={props.value}\r\n        onChange={(e) => props.onChange(e)}\r\n        name={props.query}\r\n        onKeyPress={props.search}\r\n        // value={query}\r\n      />\r\n      <button onClick={(e) => props.searchButtonClick(e)}>\r\n        <i className=\"fa-solid fa-magnifying-glass-location fa-2xl\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport Footer from \"./components/Footer\";\nimport HideButton from \"./components/HideButton\";\nimport SearchBox from \"./components/SearchBox\";\nrequire(\"dotenv\").config();\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [weather, setWeather] = useState({});\n  const [image, setImage] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [hideBackground, setHideBackground] = useState(false);\n  // console.log(hideBackground);\n\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n  const d = new Date();\n  let month = months[d.getMonth()];\n\n  // new: now we get information from backend\n  const imageURLForBackend = `http://localhost:8080/unsplash?query=${query}`;\n  const weatherURLForBackend = `http://localhost:8080/weather?q=${query}`;\n\n  const fetchings = () => {\n    setError(null);\n    setIsPending(true);\n    try {\n      fetch(weatherURLForBackend)\n        // setIsPending(true)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.cod === 200) {\n            setWeather(data);\n          } else {\n            setError(data.message);\n            setWeather({});\n          }\n        });\n    } catch (err) {\n      console.log(err);\n    }\n\n    fetch(imageURLForBackend)\n      .then((res) => res.json())\n      .then((data) => {\n        setImage(data);\n      });\n    setQuery(\"\");\n    setIsPending(false);\n  };\n\n  // this is one of those situations that the fetching function\n  //  gets triggered by presssing enter button on user's keyboard ->\n  const search = (pressedKey) => {\n    if (pressedKey.key === \"Enter\") {\n      fetchings();\n    }\n  };\n\n  function firstProfilePicture() {\n    if (image) {\n      return { backgroundImage: `url(${image})` };\n    } else {\n      return {\n        backgroundImage: `url('https://images.unsplash.com/photo-1572787514629-72872e4fc123?crop=entropy&cs=srgb&fm=jpg&ixid=MnwzMjIzNzV8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NTA4MzczMjU&ixlib=rb-1.2.1&q=85')`,\n      };\n    }\n  }\n\n  const backgroundUrl =\n    typeof weather.main !== \"undefined\"\n      ? firstProfilePicture()\n      : {\n          backgroundImage: `url('https://images.unsplash.com/photo-1572787514629-72872e4fc123?crop=entropy&cs=srgb&fm=jpg&ixid=MnwzMjIzNzV8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NTA4MzczMjU&ixlib=rb-1.2.1&q=85')`,\n        };\n\n  const backgroundStyle = {\n    ...backgroundUrl,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"top\",\n    maxWidth: \"100%\",\n    borderRadius: \"15px\",\n    backgroundRepeat: \"no-repeat\",\n  };\n\n  return (\n    <div className=\"whole-page\">\n      <div className=\"App\" style={backgroundStyle}>\n        <SearchBox\n          onChange={(e) => {\n            setQuery(e.target.value);\n          }}\n          query={query}\n          search={search}\n          searchButtonClick={fetchings}\n          value={query}\n        />\n        {isPending && <p className=\"pending\">Please wait...</p>}\n        {error && <p className=\"error\">{error}</p>}\n        {/* Beginning of the Ternary Operator ==> */}\n        {typeof weather.main !== \"undefined\" ? (\n          <div\n            className={\n              typeof weather.main !== \"undefined\"\n                ? \"container show\"\n                : \"container not-show\"\n            }\n          >\n            <div className=\"location-info\">\n              <div className=\"info city\">\n                {weather.name}, {weather.sys.country}\n                {/* end of info city div */}\n              </div>\n              <div className=\"info date\">\n                {`${d.getDate()}. ${month}  ${d.getFullYear()}`}\n                {/* end of info date div */}\n              </div>\n              {/* end of location-info div */}\n            </div>\n\n            <div className={`weather-info ${hideBackground ? \"hide\" : \"\"}`}>\n              <div className=\"info degree\">\n                {Math.round(weather.main.temp)}Â°C\n                {/* end of info degree div */}\n              </div>\n\n              <div className=\"info sky\">\n                {weather.weather[0].main}\n                {/* end of info sky div */}\n              </div>\n\n              <img\n                className=\"weather-icon\"\n                src={`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`}\n                alt=\"\"\n              />\n\n              <div className=\"info sky-description\">\n                {weather.weather[0].description}\n                {/* end of info sky-description div */}\n              </div>\n\n              <HideButton\n                onClick={() => setHideBackground((preValue) => !preValue)}\n              />\n              {/* end of weather-info div  */}\n            </div>\n            {/* end of container div */}\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* <== End of Ternary Operator */}\n        <Footer>\n          <p>\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://comendrun.com\"\n              className=\"github-link\"\n            >\n              comendrun@{d.getFullYear()}\n            </a>\n          </p>\n        </Footer>\n        {/* end of App div ==> */}\n      </div>\n      {/* end of whole-page div ==>  */}\n    </div>\n  );\n}\n\nexport default App;\n\n// <-- TODO=> i think when this backgroundUrl tries to get a link from\n// our image state, sometimes it may fail, so maybe i should add another\n// operation that only does that if the state have some data, and if\n// there is no data stored on image state, then it should have another\n//  random or specific picture in order to our app not fail\n// <== SECOND NOTE (17.05.2022)==> i added a function that will look to image state and if any data have been stored there, it will get image link from the data and if it doenst have any data, then it just gets back to the first image (TODO==> maybe i should make it in a way that if the data is not provided or the input is not relevant, the image remains as it is. and i doesnt get back to the first image of the app )\n// <-- this is the style that our background picture will have\n// every time any new serach triggered.i learned it from ninja net\n//  from his toturial in his youtube channel and definetly we can\n// do it another way.so probably will try to do it another way in future\n// TODO==>\n// const wholePageBackgroundStyle = {\n//   ...backgroundUrl,\n//   backgroundSize: \"cover\",\n//   backgroundPosition: \"top\",\n//   maxWidth: \"100%\",\n//   backdropFilter: \"blur(10px)\",\n//   backgroundRepeat: \"no-repeat\",\n//   background:'rgba(255,255,255,0.4)'\n// };\n// <==TODO  i wanted to add a background to the whole page that would\n//  be the blury form of the App background that we get from APi.\n// but i realized that this blurry background isnt supported in\n// raect app and also i couldnt handle backdrop npm package and couldnt\n//  make it work. (i only spent 10 minutes on that, so prabably it will\n//  work but because i had to wrap everything around that, i didnt want\n//  to spent too much time on that)\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n"],"sourceRoot":""}